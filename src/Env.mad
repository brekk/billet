import Dict from "Dictionary"
import { fromMaybe } from "Maybe"

import { makeStyled } from "@/Processor"
import Tag from "@/Tag"



getEnvWithKey :: String -> Dictionary String String -> List Tag
getEnvWithKey = (key, env) => pipe(
  Dict.get(key),
  map(Tag.parseTags),
  fromMaybe([]),
)(env)

export awareOf = (key, call, seedPrefix, env) => makeStyled(
  seedPrefix,
  call,
  getEnvWithKey(key, env),
)
