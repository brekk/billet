import type { Tag } from "@/Tag"

import Dict from "Dictionary"
import { fromMaybe } from "Maybe"

import { styled } from "@/Processor"
import { manyFromString } from "@/Tag"



getEnvWithKey :: String -> Dictionary String String -> List Tag
getEnvWithKey = (key, env) => pipe(
  Dict.get(key),
  map(manyFromString),
  fromMaybe([]),
)(env)

export awareOf = (key, call, seedPrefix, env) => styled(seedPrefix, call, getEnvWithKey(key, env))
